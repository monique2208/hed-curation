[{"merge_consecutive_events": {"column": "code",
                              "value": "80",
                              "duration": "sum"}
  },
 {"add_structure": [{"type": "event",
                            "column": "code",
                            "marker": {"column": "code",
                                       "start_stop": [["40"], ["40", "70"]],
                                       "inclusion": ["exclusive", "exclusive"]},
                            "value": {"type": "label",
                                      "content": "trial"}},
                    {"type": "column",
                     "column": "trial_type",
                     "marker": {"column": "code",
                                "start_stop": [["40"], ["40", "70"]],
                                "inclusion": ["exclusive", "exclusive"]},
                     "value": {"type": "consists",
                               "content": [["go", ["trial", "30", "11", "1"]],
                                           ["go", ["trial", "30", "11", "2"]],
                                           ["go", ["trial", "30", "12", "1"]],
                                           ["go", ["trial", "30", "12", "2"]],
                                           ["successful_stop", ["trial", "30", "211", "221"]],
                                           ["successful_stop", ["trial", "30", "212", "222"]],
                                           ["go", ["trial", "30", "211", "1"]],
                                           ["go", ["trial", "30", "211", "2"]],
                                           ["go", ["trial", "30", "212", "2"]],
                                           ["go", ["trial", "30", "212", "1"]],
                                           ["premature_stop", ["trial", "30", "211", "1", "221"]],
                                           ["premature_stop", ["trial", "30", "211", "2", "221"]],
                                           ["premature_stop", ["trial", "30", "212", "2", "222"]],
                                           ["premature_stop", ["trial", "30", "212", "1", "222"]],
                                           ["unsuccessful_stop", ["trial", "30", "211", "221", "1"]],
                                           ["unsuccessful_stop", ["trial", "30", "211", "221", "2"]],
                                           ["unsuccessful_stop", ["trial", "30", "212", "222", "1"]],
                                           ["unsuccessful_stop", ["trial", "30", "212", "222", "2"]]]}
                     },
                    {"type": "column",
                     "column": "block",
                     "marker": {"column": "code", 
                                "start_stop": [["Stress_post"], ["5"]],
                                "inclusion": ["inclusive", "exclusive"]},
                     "value": {"type": "label", 
                               "content": "survey_block"}
                     },
                    {"type": "column",
                     "column": "block",
                     "marker": {"column": "code",
                                "start_stop": [["40"], ["80", "Stress_post"]],
                                "inclusion": ["inclusive", "exclusive"]},
                     "value": {"type": "label",
                               "content": "experiment_block"}
                     }
                    ]
  },
 {"add_numbers": {"block": {"marker": {"column": "code",
                                       "start_stop": [["40"], ["80", "Stress_post"]],
                                       "inclusion": ["inclusive", "exclusive"]}},
                  "trial": {"marker": {"column": "code",
                                       "start_stop": [["trial"], ["40", "70"]],
                                       "inclusion": ["inclusive", "exclusive"]},
                            "within": "block"}
                  }
  },
 {"derive_columns": {"block": {"source_columns": ["code"],
                               "mapping": [["rest_block", ["80"]]]},
                     "code": {"source_columns": ["code", "block"],
                              "mapping": [["1s", ["1", "survey_block"]],
                                          ["2s", ["2", "survey_block"]]]}
                     }
  }
]
